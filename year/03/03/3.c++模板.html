<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>3.输入232与输出——C语言 | 醉卿枫</title><meta name="author" content="test"><meta name="copyright" content="test"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1234567891011121314151617181920#include&lt;iostream&gt;using namespace std;template &lt;typename T&gt;&#x2F;&#x2F;T可以为其他别名，一般为T，函数前必须添加void Swap(T &amp;a,T &amp;b)&#x2F;&#x2F;交换两个变量值的函数模板,T代表其他类型&#123;	T temp&#x3D;a;	a&#x3D;b;	b&#x3D;t">
<meta property="og:type" content="article">
<meta property="og:title" content="3.输入232与输出——C语言">
<meta property="og:url" content="https://github.com/wjl-a/data.github.io/year/03/03/3.c++%E6%A8%A1%E6%9D%BF.html">
<meta property="og:site_name" content="醉卿枫">
<meta property="og:description" content="1234567891011121314151617181920#include&lt;iostream&gt;using namespace std;template &lt;typename T&gt;&#x2F;&#x2F;T可以为其他别名，一般为T，函数前必须添加void Swap(T &amp;a,T &amp;b)&#x2F;&#x2F;交换两个变量值的函数模板,T代表其他类型&#123;	T temp&#x3D;a;	a&#x3D;b;	b&#x3D;t">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:published_time" content="2022-03-03T13:03:00.000Z">
<meta property="article:modified_time" content="2023-12-01T04:50:54.251Z">
<meta property="article:author" content="test">
<meta property="article:tag" content="程序语23言&#x2F;c语言">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/wjl-a.github.io/img/favicon.png"><link rel="canonical" href="https://github.com/wjl-a/data.github.io/year/03/03/3.c++%E6%A8%A1%E6%9D%BF.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/wjl-a.github.io/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/wjl-a.github.io/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '3.输入232与输出——C语言',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-01 12:50:54'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/wjl-a.github.io/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/wjl-a.github.io/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a><a href="/wjl-a.github.io/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/wjl-a.github.io/" title="醉卿枫"><span class="site-name">醉卿枫</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">3.输入232与输出——C语言</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-03-03T13:03:00.000Z" title="Created 2022-03-03 21:03:00">2022-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-12-01T04:50:54.251Z" title="Updated 2023-12-01 12:50:54">2023-12-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/wjl-a.github.io/categories/C23%E8%AF%AD%E8%A8%80/">C23语言</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="3.输入232与输出——C语言"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;<span class="comment">//T可以为其他别名，一般为T，函数前必须添加</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(T &amp;a,T &amp;b)</span><span class="comment">//交换两个变量值的函数模板,T代表其他类型</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	T temp=a;</span><br><span class="line">	a=b;</span><br><span class="line">	b=temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">10</span>,b=<span class="number">30</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(a,b);</span><br><span class="line">    cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">    <span class="type">float</span> a1=<span class="number">9.230</span>,b1=<span class="number">8.23</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(a1,b1);</span><br><span class="line">    cout&lt;&lt;a1&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b1&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意事项</strong></p>
<ul>
<li>可以为类的成员函数创建模板，但不能是虚函数和析构函数。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CGirl</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">	<span class="built_in">CGirl</span>(T a)挺好不提也罢</span><br><span class="line">	&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;a=&quot;</span>&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(T b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;b=&quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">CGirl <span class="title">g</span><span class="params">(<span class="string">&quot;西施&quot;</span>)</span></span>;</span><br><span class="line">    g.<span class="built_in">show</span>(<span class="number">345</span>);</span><br><span class="line">    g.<span class="built_in">show</span>(<span class="string">&quot;sdjfh&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用函数模板时，必须明确数据类型，确保实参与函数模板能匹配上——针对无参数<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">()</span><span class="comment">//无参数时</span></span></span><br><span class="line"><span class="function"><span class="title">Swap</span><span class="params">()</span></span>;<span class="comment">//直接调用会报错</span></span><br><span class="line"><span class="built_in">Swap</span>&lt;<span class="type">int</span>&gt;();<span class="comment">//这样无问题</span></span><br></pre></td></tr></table></figure></li>
<li>使用函数模板时，推导的数据类型必须适应函数模板中的代码。</li>
<li>使用函数模板时，如果是自动类型推导，不会发生隐式类型转换，如果显式指定了函数模板的数据类型，可以发生隐式类型转换。</li>
<li>函数模板支持多个通用数据类型的参数。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(T1 b,T2 B)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;b&lt;&lt;B;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="函数模板的具体化"><a href="#函数模板的具体化" class="headerlink" title="函数模板的具体化"></a>函数模板的具体化</h2><ul>
<li>可以提供一个具体化的函数定义，当编译器找到与函数调用匹配的具体化定义时，将使用该定义，不再寻找模板。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="type">void</span> 函数模板名&lt;数据类型&gt;(参数列表)</span><br><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="type">void</span> 函数模板名(参数列表)&#123;&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CGirl</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> m_rank;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(T &amp;a,T &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	T temp=a;</span><br><span class="line">	a=b;</span><br><span class="line">	b=temp;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;swap&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(CGirl &amp;g1,CGirl &amp;g2)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> temp=g1.m_rank;</span><br><span class="line">	g1.m_rank=g2.m_rank;</span><br><span class="line">	g2.m_rank=temp;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;调用CGirl&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    CGirl g1,g2;</span><br><span class="line">    g1.m_rank=<span class="number">1</span>;</span><br><span class="line">    g2.m_rank=<span class="number">2</span>;</span><br><span class="line">    g1.i=<span class="number">4</span>;</span><br><span class="line">    g2.i=<span class="number">5</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(g1,g2);<span class="comment">//这里使用了函数模板具体化</span></span><br><span class="line">    cout&lt;&lt;g1.m_rank&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;g2.m_rank&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<strong>规则</strong></li>
<li>如果主函数调用的函数都能用，优先级：普通函数&gt;具体化&gt;常规模板</li>
<li>如果希望使用函数模板，可以用空模板参数强制使用函数模板。</li>
<li>如果函数模板能产生更好的匹配，将优先于普通函数。例如普通为传参为 int 型，到那时传参为字符时会优先模板而不是 int 型（字符可传参 int 型）</li>
</ul>
<h2 id="函数模板进阶"><a href="#函数模板进阶" class="headerlink" title="函数模板进阶"></a>函数模板进阶</h2><h3 id="decltype-关键字"><a href="#decltype-关键字" class="headerlink" title="decltype 关键字"></a>decltype 关键字</h3><ul>
<li>用于查询表达式的数据类型 ,不会执行表达式和函数</li>
<li>语法：<code>decltype(expression) var;</code></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38196982/article/details/118578967?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169080608216800197085132%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169080608216800197085132&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-118578967-null-null.142%5Ev91%5Econtrol,239%5Ev12%5Econtrol2&utm_term=decltype&spm=1018.2226.3001.4187">decltype用法详解</a></li>
</ul>
<p><strong>推导规则</strong></p>
<ul>
<li>如果 expression 是没有用括号括起来的标识符，则 var 的类型与该标识符的类型相同，包括 const 等限定符。</li>
<li>如果 expression 是函数调用，则 var 的类型与函数的返回值类型相同 (函数不能返回 void, 但可以返回 void*)</li>
<li>如果 expression 是左值（能取地址）、或者用括号括起来的标识符，那么 var 的类型是 expression 的引用。</li>
<li>如果上面的条件都不满足，则 var 的类型与 expressionl 的类型相同。</li>
</ul>
<p><strong>函数后置返回类型</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> x,<span class="type">double</span> y)</span></span>;<span class="comment">//等价于下面式子</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">func</span><span class="params">(<span class="type">int</span> x,<span class="type">double</span> y)</span> -&gt; <span class="type">int</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//有返回值形式写法</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt; </span><br><span class="line"><span class="comment">//auto func(T1 x,T2 y)这么写也可以</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">func</span><span class="params">(T1 x,T2 y)</span> -&gt;<span class="title">decltype</span><span class="params">(x+y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">auto</span> tem=x+y;</span><br><span class="line">	cout&lt;&lt;tem&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> tem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">func</span>(<span class="number">3.2</span>,<span class="number">8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数模板分文件编写"><a href="#函数模板分文件编写" class="headerlink" title="函数模板分文件编写"></a>函数模板分文件编写</h3><ul>
<li>函数模板只是函数的描述，没有实体，<strong>创建函数模板的代码直接放在头文件中</strong>。</li>
<li><strong>函数模板的具体化</strong>有实体，编译的原理和普通函数一样，所以，<strong>声明放在头文件中，定义放在源文件中</strong>。</li>
<li><code>#pragma once</code> : <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41055260/article/details/122994997">作用</a>，为了避免同一个头文件被包含 (include)多次</li>
</ul>
<h1 id="类模板"><a href="#类模板" class="headerlink" title="类模板"></a>类模板</h1><ul>
<li>使用类模板时，指定具体的数据类型，让编译器生成该类型的类定义</li>
<li>使用类模板时，数据类型必须适应类模板中的代码。</li>
<li>类模板可以为通用数据类型指定缺省的数据类型</li>
<li>类的成员函数可以在类外实现。</li>
<li>可以用 new 创建模板对象。’<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> 类模板名</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>=string&gt;<span class="comment">//这样在主函数中创建时可以不写第二个参数</span></span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	T1 m_a;<span class="comment">//通用类用于成员变量</span></span><br><span class="line">	T2 m_b;</span><br><span class="line">	<span class="comment">//通用类型用于成员函数的参数</span></span><br><span class="line">	<span class="built_in">AA</span>()&#123;&#125;</span><br><span class="line">	<span class="built_in">AA</span>(T1 a,T2 b):<span class="built_in">m_a</span>(a),<span class="built_in">m_b</span>(b)&#123;&#125;</span><br><span class="line">	<span class="function">T1 <span class="title">geta</span><span class="params">()</span></span>&#123;          <span class="comment">//获取成员m_a的值</span></span><br><span class="line">		T1 a=<span class="number">2</span>;         <span class="comment">//通用类型用于成员函数的代码中</span></span><br><span class="line">		<span class="keyword">return</span> m_a+a;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	AA&lt;<span class="type">int</span>,<span class="type">double</span>&gt; a;<span class="comment">//用模板类AA创建a</span></span><br><span class="line">	a.m_a=<span class="number">1</span>;</span><br><span class="line">	cout&lt;&lt;a.<span class="built_in">geta</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//template &lt;class T1,int len=19&gt;//这种定义式第二个参数可以不写</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//类外定义函数</span></span><br><span class="line"><span class="comment">//template &lt;class T1,class T2&gt;</span></span><br><span class="line"><span class="comment">//T2 AA&lt;T1,T2&gt;::geta()&#123;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//AA&lt;int,string&gt; *a=new AA&lt;int,string&gt;(3,&quot;西施&quot;)//使用new创建</span></span><br></pre></td></tr></table></figure>
<h2 id="嵌套和递归使用模板类"><a href="#嵌套和递归使用模板类" class="headerlink" title="嵌套和递归使用模板类"></a>嵌套和递归使用模板类</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Crush_66/article/details/130732817?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169080788416782425130693%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=169080788416782425130693&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-130732817-null-null.142%5Ev91%5Econtrol,239%5Ev12%5Econtrol2&utm_term=%E5%B5%8C%E5%A5%97%E5%92%8C%E9%80%92%E5%BD%92%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF%E7%B1%BB&spm=1018.2226.3001.4187">C++类模板嵌套使用</a><br>现在有 vector 类容器和 stack 容器模板<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建Vector容器，容器元素用Stack,</span></span><br><span class="line">Vector&lt;Stack&lt;string&gt;&gt; vs;</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//栈类</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">DataType</span>&gt;<span class="comment">//在类声明前加上模板的头部标签</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span>		</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:				<span class="comment">//3个成员变量</span></span><br><span class="line">	DataType *items;	<span class="comment">//栈数组，栈的元素用整数数组存放，动态分配一块数组空间</span></span><br><span class="line">	<span class="type">int</span> stacksize;	<span class="comment">//栈大小，栈的大小用成员变量表示</span></span><br><span class="line">	<span class="type">int</span> top;		<span class="comment">//栈顶指针，栈顶指针用整数表示，不是C++的指针</span></span><br><span class="line"><span class="keyword">public</span>:	<span class="comment">//成员函数 </span></span><br><span class="line">	<span class="comment">//构造函数：1）分配栈数组空间；2）把栈顶指针初始化为0</span></span><br><span class="line">	<span class="built_in">Stack</span>(<span class="type">int</span> size=<span class="number">3</span>):<span class="built_in">stacksize</span>(size),<span class="built_in">top</span>(<span class="number">0</span>)	<span class="comment">//需要一个参数（栈的大小），采用初始化列表对成员赋值</span></span><br><span class="line">	&#123;</span><br><span class="line">		items=<span class="keyword">new</span> DataType [stacksize];	<span class="comment">//在构造函数中，给栈数组分配内存</span></span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Stack</span>()	<span class="comment">//析构函数，释放数组空间</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">delete</span> []items;	<span class="comment">//释放数组空间</span></span><br><span class="line">		items=<span class="literal">NULL</span>;	<span class="comment">//指针置为空</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">isempty</span><span class="params">()</span><span class="type">const</span></span>&#123;	<span class="comment">//判断栈是否为空</span></span><br><span class="line">		<span class="keyword">return</span> top==<span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">isfull</span><span class="params">()</span><span class="type">const</span></span>&#123;		<span class="comment">//判断栈是否为满</span></span><br><span class="line">		<span class="keyword">return</span> top==stacksize;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">push</span><span class="params">(<span class="type">const</span> DataType&amp; item)</span></span>&#123;		<span class="comment">//元素入栈</span></span><br><span class="line">		<span class="keyword">if</span>(top&lt;stacksize)<span class="comment">//如果还没有在栈顶</span></span><br><span class="line">		&#123;</span><br><span class="line">			items[top++]=item;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">pop</span><span class="params">(DataType&amp; item)</span></span>&#123;		<span class="comment">//元素出栈</span></span><br><span class="line">		<span class="keyword">if</span>(top&gt;<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			item=items[--top];</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;		</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//数组容器类</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> len;	<span class="comment">//数组大小用成员变量表示</span></span><br><span class="line">		T *items;	<span class="comment">//数组元素用指针，动态分配</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Vector</span>(<span class="type">int</span> size=<span class="number">2</span>):<span class="built_in">len</span>(size)&#123;    <span class="comment">//构造函数，把数组大小传入，分配内存</span></span><br><span class="line">		    items=<span class="keyword">new</span> T[len];</span><br><span class="line">		&#125;</span><br><span class="line">		~<span class="built_in">Vector</span>()&#123;                        <span class="comment">//析构函数</span></span><br><span class="line">		    <span class="keyword">delete</span>[]items;items=<span class="literal">NULL</span>;        <span class="comment">//释放数组空间，指针置为空</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">int</span> size)</span></span>&#123;            <span class="comment">//扩展数组的内存空间</span></span><br><span class="line">			<span class="keyword">if</span>(size&lt;=len)<span class="keyword">return</span>;            <span class="comment">//只能往更大的扩展</span></span><br><span class="line">			T*tmp=<span class="keyword">new</span> T[size];                <span class="comment">//分配更大的目标数组</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> ii=<span class="number">0</span>;ii&lt;len;ii++)        <span class="comment">//将原来的数组赋给目标数组</span></span><br><span class="line">				tmp[ii]=items[ii];</span><br><span class="line">			<span class="keyword">delete</span>[]items;                <span class="comment">//释放原来的数组</span></span><br><span class="line">			items=tmp;                    <span class="comment">//让数组指向新的目标数组</span></span><br><span class="line">			len=size;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span><span class="type">const</span></span>&#123;                <span class="comment">//获取数组长度</span></span><br><span class="line">            <span class="keyword">return</span> len;</span><br><span class="line">		&#125;</span><br><span class="line">		T&amp; <span class="keyword">operator</span>[](<span class="type">int</span> ii)&#123;            <span class="comment">//重载操作符[]，形参是数组下标，可以修改数组中的元素</span></span><br><span class="line">		    <span class="keyword">if</span>(ii&gt;=len)<span class="built_in">resize</span>(ii+<span class="number">10</span>);            <span class="comment">//扩展数组空间</span></span><br><span class="line">		    <span class="keyword">return</span> items[ii];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">const</span> T&amp; <span class="keyword">operator</span>[](<span class="type">int</span> ii)<span class="type">const</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> items[ii];    <span class="comment">//重载操作符[]，形参是数组下标，不可以修改数组中的元素	</span></span><br><span class="line">        &#125;	</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//Vector大小为2，Stack大小为3</span></span><br><span class="line"> </span><br><span class="line">	<span class="comment">//创建一个对象Vector</span></span><br><span class="line">	Vector&lt;Stack&lt;string&gt; &gt;v;<span class="comment">//C++11之前，&gt;&gt;要加空格</span></span><br><span class="line"> </span><br><span class="line">	<span class="comment">//手工地往容器Vector插入数据</span></span><br><span class="line">	v[<span class="number">0</span>].<span class="built_in">push</span>(<span class="string">&quot;西施1&quot;</span>);v[<span class="number">0</span>].<span class="built_in">push</span>(<span class="string">&quot;西施2&quot;</span>);v[<span class="number">0</span>].<span class="built_in">push</span>(<span class="string">&quot;西施3&quot;</span>);</span><br><span class="line">	v[<span class="number">1</span>].<span class="built_in">push</span>(<span class="string">&quot;西1&quot;</span>);v[<span class="number">1</span>].<span class="built_in">push</span>(<span class="string">&quot;西2&quot;</span>);v[<span class="number">1</span>].<span class="built_in">push</span>(<span class="string">&quot;西3&quot;</span>);</span><br><span class="line"> </span><br><span class="line">	<span class="comment">//用for循环嵌套，把v容器中的数据显示出来</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;v.<span class="built_in">size</span>();i++)<span class="comment">//遍历Vector</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(!v[i].<span class="built_in">isempty</span>())<span class="comment">//遍历Stack</span></span><br><span class="line">		&#123;</span><br><span class="line">			string item;</span><br><span class="line">			v[i].<span class="built_in">pop</span>(item);</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;item= &quot;</span>&lt;&lt;item&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="模板类具体化"><a href="#模板类具体化" class="headerlink" title="模板类具体化"></a>模板类具体化</h3><ul>
<li>分为完全具体化和部分具体化</li>
<li>优先级：具体化程度高的类优先于具体化程度低的类，具体化的类优先没有具体化的类<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//非具体化</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	T1 a;</span><br><span class="line">	T2 b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//部分具体化</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="type">int</span>&gt; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	T1 a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//完全具体化</span></span><br><span class="line"><span class="keyword">template</span> &lt;string,<span class="type">int</span>&gt; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	string a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="模板类与继承"><a href="#模板类与继承" class="headerlink" title="模板类与继承"></a>模板类与继承</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Crush_66/article/details/130753545?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169080917716800222832776%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=169080917716800222832776&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-130753545-null-null.142%5Ev91%5Econtrol,239%5Ev12%5Econtrol2&utm_term=%E6%A8%A1%E6%9D%BF%E7%B1%BB%E4%B8%8E%E7%BB%A7%E6%89%BF&spm=1018.2226.3001.4187">c++ 模板类继承</a></li>
<li>模板类继承普通类（常见）</li>
<li>普通类继承模板类的<strong>实例版本</strong></li>
<li>普通类继承模板类（常见）</li>
<li>模板类继承模板类</li>
<li>模板类继承模板参数给出的基类（不能是模板类）<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">----------------------------------</span><br><span class="line"><span class="comment">//模板类继承普通类，常见</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span>:<span class="keyword">public</span> A&#123;&#125;;<span class="comment">//继承普通类</span></span><br><span class="line"></span><br><span class="line">----------------------------------</span><br><span class="line"><span class="comment">//普通类继承模板类的实例</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:<span class="keyword">public</span> BB&lt;<span class="type">int</span>,string&gt;;</span><br><span class="line"></span><br><span class="line">----------------------------------</span><br><span class="line"><span class="comment">//普通类继承模板类,常见</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:<span class="keyword">public</span> BB&lt;T1,T2&gt;;</span><br><span class="line"></span><br><span class="line">----------------------------------</span><br><span class="line"><span class="comment">//模板类继承模板类</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span>:<span class="keyword">public</span> BB&lt;T1,T2&gt;;</span><br><span class="line"></span><br><span class="line">----------------------------------</span><br><span class="line"><span class="comment">//模板类继承模板参树给出的基类(不能是模板类)</span></span><br><span class="line"><span class="comment">//普通类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;&#125;;</span><br><span class="line"><span class="comment">//模板类</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>:<span class="keyword">public</span> T&#123;&#125;<span class="comment">//模板类继承模板参数给出的基类</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	EE&lt;AA&gt; ea1;<span class="comment">//AA作为基类</span></span><br><span class="line">	EE&lt;BB&gt; eb1;<span class="comment">//BB作为基类</span></span><br><span class="line">	EE&lt;CC&gt; ec1;<span class="comment">//CC作为基类</span></span><br><span class="line">	EE&lt;DD&lt;<span class="type">int</span>&gt;&gt; ed1; <span class="comment">//DD&lt;int&gt;作为基类,模板类作为基类时，必须明确指出模板类型参数</span></span><br><span class="line">	<span class="comment">//EE&lt;DD&gt;ed1;  		 //DD作为基类，错误</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="模板类与函数"><a href="#模板类与函数" class="headerlink" title="模板类与函数"></a>模板类与函数</h2><p>模板类可以用于函数的参数和返回值</p>
<ol>
<li>普通函数，参数和返回值是模板类的实例化版本<ol>
<li>友元函数不是模板函数，而是利用模板类参数生成的函数，只能在类内实现。</li>
<li>该方法生成的友元函数只能用于该模板类，不能用于其他模板类</li>
</ol>
</li>
<li>函数模板，参数和返回值是某种的模板类</li>
<li>函数模板，参数和返回值是任意类型（支持普通类和模板类和其它类型）, 这种较为规范</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> b=<span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//采用普通函数，参数和返回值是模板类的实例化版本</span></span><br><span class="line"><span class="function">A&lt;<span class="type">int</span>,string&gt; <span class="title">func</span><span class="params">(A&lt;<span class="type">int</span>,string&gt; a)</span></span>&#123; <span class="keyword">return</span> a;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数模板，参数和返回值是模板类</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="function">A&lt;T1,T2&gt; <span class="title">func</span><span class="params">(A&lt;T1,T2&gt; a)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数模板，参数和返回值是任意类型d</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">func</span><span class="params">(T &amp;a)</span></span>&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="模板类与有元"><a href="#模板类与有元" class="headerlink" title="模板类与有元"></a>模板类与有元</h2><p>有三种形式</p>
<ol>
<li>非模板友元：友元函数不是模板函数，而是利用模板类参数生成的函数<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	T1 a;</span><br><span class="line">	T2 b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">A</span>(<span class="type">const</span> T1 x,<span class="type">const</span> T2 y):<span class="built_in">a</span>(x),<span class="built_in">b</span>(y)&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">const</span> A&lt;T1,T2&gt; &amp;c)</span></span>&#123;</span><br><span class="line">		cout&lt;&lt;c.a&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;c.b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">A&lt;<span class="type">int</span>,string&gt; <span class="title">p</span><span class="params">(<span class="number">32</span>,<span class="string">&quot;我的世界&quot;</span>)</span></span>;</span><br><span class="line">	<span class="built_in">show</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>约束模板友元：模板类实例化时，每个实例化的类对应一个友元函数 (常用)。<br> 步骤<ol>
<li>在模板类定义的前面，声明友元函数，为了让模板类知道友元函数模板的存在</li>
<li>在模板类中，再次声明友元函数模板，让编译器知道需要实例化的友元函数模板</li>
<li>友元函数模板的定义，具体化版本<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//约束模板友元：模板实例化时，每个实例化的类对应一个友元函数</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(T&amp;a)</span></span>;					<span class="comment">//第一步：在模板类定义的前面，声明友元函数，为了让模板类知道友元函数模板的存在</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span><span class="comment">//AA是类模板，是类的通用描述，改变不存在叫AA的类</span></span><br><span class="line">&#123;							</span><br><span class="line">	<span class="keyword">private</span>:			</span><br><span class="line">		T1 m_x;</span><br><span class="line">		T2 m_y;<span class="comment">//第二步：在模板类中，再次声明友元函数模板，让编译器知道需要实例化的友元函数模板</span></span><br><span class="line">		<span class="keyword">friend</span> <span class="type">void</span> show&lt;&gt;(AA&lt;T1,T2&gt;&amp;a);	<span class="comment">//这行代码让类模板和函数模板扯上关系</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">AA</span>(<span class="type">const</span> T1 x,<span class="type">const</span> T2 y):<span class="built_in">m_x</span>(x),<span class="built_in">m_y</span>(y)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span><span class="comment">//AA是类模板，是类的通用描述，改变不存在叫AA的类</span></span><br><span class="line">&#123;							</span><br><span class="line">	<span class="keyword">private</span>:			</span><br><span class="line">		T1 m_x;</span><br><span class="line">		T2 m_y;<span class="comment">//第二步：在模板类中，再次声明友元函数模板，让编译器知道需要实例化的友元函数模板</span></span><br><span class="line">		<span class="keyword">friend</span> <span class="type">void</span> show&lt;&gt;(BB&lt;T1,T2&gt;&amp;a);	<span class="comment">//这行代码让类模板和函数模板扯上关系</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">BB</span>(<span class="type">const</span> T1 x,<span class="type">const</span> T2 y):<span class="built_in">m_x</span>(x),<span class="built_in">m_y</span>(y)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//编译器在实例化某种数据类型的模板类时，也会实例化这种数据类型的模板函数</span></span><br><span class="line"><span class="comment">//通用版本友元函数</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;			<span class="comment">//第三步：友元函数模板的定义</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(T&amp;a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;通用：x=&quot;</span>&lt;&lt;a.m_x&lt;&lt;<span class="string">&quot;，y=&quot;</span>&lt;&lt;a.m_y&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//因为友元函数是函数模板，所以可以有具体化版本</span></span><br><span class="line"><span class="comment">//具体化版本友元函数</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;			</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(AA&lt;<span class="type">int</span>,string&gt;&amp;a)</span>		<span class="comment">//第四步：具体化版本</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;具体：x=&quot;</span>&lt;&lt;a.m_x&lt;&lt;<span class="string">&quot;，y=&quot;</span>&lt;&lt;a.m_y&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//是类名AA&lt;int,string&gt;</span></span><br><span class="line">	AA&lt;<span class="type">int</span>,string&gt;<span class="built_in">aa</span>(<span class="number">88</span>,<span class="string">&quot;我是一只小猫咪&quot;</span>);</span><br><span class="line">	<span class="built_in">show</span>(aa);	<span class="comment">//使用具体化的版本</span></span><br><span class="line">	BB&lt;<span class="type">char</span>,string&gt;<span class="built_in">bb</span>(<span class="string">&#x27;2&#x27;</span>,<span class="string">&quot;我是一只小猫咪&quot;</span>);</span><br><span class="line">	<span class="built_in">show</span>(bb);	<span class="comment">//使用通用的版本	，友元函数适应多种函数模板</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>非约束模板友元：模板类实例化时，如果实例化了 n 个类，也会实例化个友元函数，每个实例化的类都拥有 n 个友元函数。</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Crush_66/article/details/130785787?ops_request_misc=&request_id=&biz_id=102&utm_term=%E6%A8%A1%E6%9D%BF%E7%B1%BB%E4%B8%8E%E6%9C%89%E5%85%83&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-130785787.142%5Ev91%5Econtrol,239%5Ev12%5Econtrol2&spm=1018.2226.3001.4187">模板类与友元</a></li>
</ul>
<h2 id="模板类成员模板"><a href="#模板类成员模板" class="headerlink" title="模板类成员模板"></a>模板类成员模板</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span></span><br><span class="line">&#123;							</span><br><span class="line"><span class="keyword">public</span>:			</span><br><span class="line">	T1 m_x;</span><br><span class="line">	T2 m_y;</span><br><span class="line">	<span class="built_in">AA</span>(<span class="type">const</span> T1 x,<span class="type">const</span> T2 y):<span class="built_in">m_x</span>(x),<span class="built_in">m_y</span>(y)&#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;cout&lt;&lt;m_x&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;m_y&lt;&lt;endl;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		T a;</span><br><span class="line">		T1 b;</span><br><span class="line">		<span class="built_in">B</span>()&#123;&#125;;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;测试&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	B&lt;string&gt; m_b;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;<span class="comment">//这里的T和上面的T无关系</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(T tt)</span></span>&#123;</span><br><span class="line">		m_b.<span class="built_in">show</span>();</span><br><span class="line">		cout&lt;&lt;m_x&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;m_y&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">AA&lt;<span class="type">int</span>,string&gt; <span class="title">a</span><span class="params">(<span class="number">88</span>,<span class="string">&quot;我的世界&quot;</span>)</span></span>;</span><br><span class="line">	a.<span class="built_in">show</span>();</span><br><span class="line">	a.<span class="built_in">show</span>(<span class="string">&quot;你是谁&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在外面的写法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模板类AA中模板类B中show方法在外写法</span></span><br><span class="line"><span class="comment">//在B类中void show();</span></span><br><span class="line"><span class="comment">//在类外</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> AA&lt;T1,T2&gt;::B&lt;T&gt;::<span class="built_in">show</span>()&#123;cout&lt;&lt;<span class="string">&quot;测试&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line">------------------------</span><br><span class="line"><span class="comment">//模板类AAshow方法在外写法</span></span><br><span class="line"><span class="comment">//在A类中void show(T tt);</span></span><br><span class="line"><span class="comment">//在类外</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="type">void</span> AA&lt;T1,T2&gt;::<span class="built_in">show</span>(T tt)&#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="模板类用作参数"><a href="#模板类用作参数" class="headerlink" title="模板类用作参数"></a>模板类用作参数</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Crush_66/article/details/130787396?ops_request_misc=&request_id=&biz_id=102&utm_term=%E5%B0%86%E6%A8%A1%E6%9D%BF%E7%B1%BB%E7%94%A8%E4%BD%9C%E5%8F%82%E6%95%B0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-4-130787396.142%5Ev91%5Econtrol,239%5Ev12%5Econtrol2&spm=1018.2226.3001.4187">将类模板用于参数</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="type">int</span> len&gt;<span class="comment">//实际上链表没有链表长度的说法，假设他需要</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkList</span></span><br><span class="line">&#123;							</span><br><span class="line">	<span class="keyword">public</span>:			</span><br><span class="line">		T1 *m_head;</span><br><span class="line">		<span class="type">int</span> m_len=len;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;向链表中插入了一条记录。\n&quot;</span>;&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">deleted</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;向链表中删除了一条记录。\n&quot;</span>;&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;向链表中更新了一条记录。\n&quot;</span>;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="type">int</span> len&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		T1*m_data;</span><br><span class="line">		<span class="type">int</span> m_len=len;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;向数组中插入了一条记录。\n&quot;</span>;&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">deleted</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;向数组中删除了一条记录。\n&quot;</span>;&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">()</span></span>&#123;cout&lt;&lt;<span class="string">&quot;向数组中更新了一条记录。\n&quot;</span>;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//线性表模板类:tabletype(T1)线性表类型,datatype(T2)线性表的数据类型</span></span><br><span class="line"><span class="comment">//与普通的类模板是一样的,唯一的区别就是参数不一样,模板头部标签的模板参数不一样</span></span><br><span class="line"><span class="comment">//template&lt;class,int&gt;表示tabletype（class位置）不是一个普通的参数(不要填int等具体类型),而是一个类模板(填模板名),并且数据类型对的上</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">template</span>&lt;<span class="keyword">class</span>,<span class="type">int</span>&gt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>,<span class="type">int</span> len&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinearList</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//		tabletype&lt;datatype,len&gt;m_table;//创建线性表对象</span></span><br><span class="line">		T1&lt;T2,len&gt; m_table;<span class="comment">//创建线性表对象</span></span><br><span class="line">		<span class="comment">//T1只是一个模板名,用T1创建对象的时候,要需要指定具体的数据类型</span></span><br><span class="line">		<span class="comment">//T1的参数最常见的做法是,用LinearList类模板参数传递进来</span></span><br><span class="line">		<span class="comment">//T1&lt;Array,10&gt;m_table;//创建线性表对象</span></span><br><span class="line">		<span class="comment">//这么做也可以,但是没有体现类模板的价值</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span>&#123;m_table.<span class="built_in">insert</span>();&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">deleted</span><span class="params">()</span></span>&#123;m_table.<span class="built_in">deleted</span>();&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">()</span></span>&#123;m_table.<span class="built_in">update</span>();&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">oper</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;len=&quot;</span>&lt;&lt;m_table.m_len&lt;&lt;endl;</span><br><span class="line">			m_table.<span class="built_in">insert</span>();</span><br><span class="line">			m_table.<span class="built_in">update</span>();</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//创建线性表对象,容器类型为链表,链表的数据类型为int,表长为20</span></span><br><span class="line">	LinearList&lt;LinkList,<span class="type">int</span>,<span class="number">20</span>&gt;a;</span><br><span class="line">	a.<span class="built_in">insert</span>();</span><br><span class="line">	a.<span class="built_in">deleted</span>();</span><br><span class="line">	a.<span class="built_in">update</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//创建线性表对象,容器类型为链表,链表的数据类型为int,表长为20</span></span><br><span class="line">	LinearList&lt;Array,string,<span class="number">20</span>&gt;b;</span><br><span class="line">	b.<span class="built_in">insert</span>();</span><br><span class="line">	b.<span class="built_in">deleted</span>();</span><br><span class="line">	b.<span class="built_in">update</span>();	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><ul>
<li>命名空间分割了全局空间，每个命名空间是一个作用域，可防止命名冲突<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> 命名空间名字&#123;&#125;<span class="comment">//常见命名空间</span></span><br><span class="line"><span class="keyword">namespace</span> 别名=原名<span class="comment">//创建命名空间的别名</span></span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">namespace</span> aa&#123;</span><br><span class="line">	<span class="type">int</span> b=<span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> c=<span class="number">2</span>;</span><br><span class="line">	<span class="type">int</span> d=<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//方式1</span></span><br><span class="line">	cout&lt;&lt;aa::b&lt;&lt;endl;</span><br><span class="line">	<span class="comment">//方式2</span></span><br><span class="line">	<span class="keyword">using</span> aa::c;<span class="comment">//这样aa命名空间中的c可以直接用</span></span><br><span class="line">	cout&lt;&lt;c&lt;&lt;endl;</span><br><span class="line">	<span class="comment">//方式3</span></span><br><span class="line">	<span class="keyword">using</span> <span class="keyword">namespace</span> aa;<span class="comment">//这样aa命名空间的所有代码都能用，最好不这样用</span></span><br><span class="line">	cout&lt;&lt;d&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> b=<span class="number">3</span>;<span class="comment">//这里的b将屏蔽aa中的b,将和方式2发生冲突,和方式1，3不冲突</span></span><br><span class="line">	cout&lt;&lt;b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注意</p>
<ul>
<li>命名空间是全局的，可以分布在多个文件中。</li>
<li>命名空间可以嵌套。</li>
<li>在命名空间中声明变量，而不是使用外部全局变量和静态全局变量。</li>
<li>对于 using 声明，首选将其作用域设置为局部而不是全局。</li>
<li>不要在头文件中使用 using 编译指令，如果非要使用，应将它放在所有的 <code>#include之后</code></li>
<li>匿名的命名空间，从创建的位置到文件结束有效。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://github.com/wjl-a/data.github.io">test</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://github.com/wjl-a/data.github.io/year/03/03/3.c++%E6%A8%A1%E6%9D%BF.html">https://github.com/wjl-a/data.github.io/year/03/03/3.c++%E6%A8%A1%E6%9D%BF.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/wjl-a.github.io/tags/%E7%A8%8B%E5%BA%8F%E8%AF%AD23%E8%A8%80-c%E8%AF%AD%E8%A8%80/">程序语23言/c语言</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/wjl-a.github.io/year/12/01/hello-world.html" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Hello World</div></div></a></div><div class="next-post pull-right"><a href="/wjl-a.github.io/year/03/03/2%E3%80%81%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA.html" title="3.输入与输出——C语言"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next</div><div class="next_info">3.输入与输出——C语言</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/wjl-a.github.io/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">test</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/wjl-a.github.io/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/wjl-a.github.io/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a><a href="/wjl-a.github.io/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><a id="card-info-btn" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%85%B7%E4%BD%93%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">函数模板的具体化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E8%BF%9B%E9%98%B6"><span class="toc-number">2.</span> <span class="toc-text">函数模板进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#decltype-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">2.1.</span> <span class="toc-text">decltype 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99"><span class="toc-number">2.2.</span> <span class="toc-text">函数模板分文件编写</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="toc-number"></span> <span class="toc-text">类模板</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%92%8C%E9%80%92%E5%BD%92%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF%E7%B1%BB"><span class="toc-number">1.</span> <span class="toc-text">嵌套和递归使用模板类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB%E5%85%B7%E4%BD%93%E5%8C%96"><span class="toc-number">1.1.</span> <span class="toc-text">模板类具体化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB%E4%B8%8E%E7%BB%A7%E6%89%BF"><span class="toc-number">2.</span> <span class="toc-text">模板类与继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">模板类与函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB%E4%B8%8E%E6%9C%89%E5%85%83"><span class="toc-number">4.</span> <span class="toc-text">模板类与有元</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB%E6%88%90%E5%91%98%E6%A8%A1%E6%9D%BF"><span class="toc-number">5.</span> <span class="toc-text">模板类成员模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB%E7%94%A8%E4%BD%9C%E5%8F%82%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">模板类用作参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number"></span> <span class="toc-text">命名空间</span></a></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/wjl-a.github.io/year/12/01/hello-world.html" title="Hello World">Hello World</a><time datetime="2023-12-01T02:01:48.295Z" title="Created 2023-12-01 10:01:48">2023-12-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/wjl-a.github.io/year/03/03/3.c++%E6%A8%A1%E6%9D%BF.html" title="3.输入232与输出——C语言">3.输入232与输出——C语言</a><time datetime="2022-03-03T13:03:00.000Z" title="Created 2022-03-03 21:03:00">2022-03-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/wjl-a.github.io/year/03/03/2%E3%80%81%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA.html" title="3.输入与输出——C语言">3.输入与输出——C语言</a><time datetime="2022-03-03T13:03:00.000Z" title="Created 2022-03-03 21:03:00">2022-03-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By test</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/wjl-a.github.io/js/utils.js"></script><script src="/wjl-a.github.io/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>